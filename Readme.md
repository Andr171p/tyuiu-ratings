# Сервис обработки конкурсных списков абитуриентов

## О сервисе

Сервис предназначен для помощи абитуриентам в момент приёмной комиссии за счёт таких инструментов, как:
 * Интерактивные конкурсные списки с вероятностями поступления на бюджет (Можно отслеживать как себя, так и своих конкурентов)
 * Перестановка приоритетов для наиболее высокого шанса поступления на бюджет.
 * Динамическая рекомендация направлений подготовки на основе данных об абитуриенте.
 * Поиск лучших направлений подготовки с наиболее высоким шансом поступления.
 * Отправка уведомлений в Telegram о текущей ситуации в рейтинге. Абитуриент получит уведомление о том, когда лучше всего подавать оригинал или наоборот забрать его.


## REST API

## Profile

Профиль абитуриента, предназначен для идентификации в конкурсных списках и заполнения дополнительных данных для лучшей работы сервиса.

### Базовый url `/api/v1/profiles`

### Основные сущности

### Exam

```json
{
  "subject": "Русский язык",
  "points": 100
}
```

 * <b>subject</b> - Предмет ЕГЭ. Доступные предметы:
     - Русский язык
     - Математика </br>
     <code>* Математика только профильная, базовую указывать не надо.</code>
     - Информатика
     - Физика
     - История
     - Обществознание
     - Химия
 * <b>points</b> - Количество баллов за один предмет (должно быть в диапазоне от 0 до 100 включительно).

### Profile

```json
{
  "user_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "applicant_id": 0,
  "gender": "male",
  "points": 310,
  "gpa": 3,
  "exams": [
    {
      "subject": "Русский язык",
      "points": 100
    }
  ],
  "created_at": "2025-06-17T12:18:55.686Z",
  "updated_at": "2025-06-17T12:18:55.686Z"
}
```
 * <b>user_id</b> - Уникальный ID пользователя полученный при регистрации в формате UUID.
 * <b>applicant_id</b> - Уникальный ID абитуриента, можно посмотреть в Госуслугах.
 * <b>gender</b> - Пол абитуриента. Нужен для получения более точных рекомендаций.
 * <b>points</b> - Сумма баллов ЕГЭ (должна быть в диапазоне от 0 до 310 включительно).
 * <b>gpa</b> - Средний балл аттестата (должен быть в диапазоне от 3 до 5 включительно).
 * <b>exams</b> - Экзамены ЕГЭ, которые сдавал абитуриент. Список из сущностей <ins>Exam</ins>
 * <b>created_at</b> - Дата создания ресурса (присваивается только после создания).
 * <b>updated_at</b> - Дата обновления ресурса.

### Методы

 * ### POST ``

Создаёт профиль абитуриента.
 
<b>Request body</b><sup>required</sup>
```json
{
  "user_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "applicant_id": 0,
  "gender": "male",
  "points": 310,
  "gpa": 3,
  "exams": [
    {
      "subject": "Русский язык",
      "points": 100
    }
  ]
}
```

<b>Response</b></br>
 * Status code: <b>201 Created</b></br>
Возвращает созданную сущность <ins>Profile</ins>.
```json
{
  "user_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "applicant_id": 0,
  "gender": "male",
  "points": 310,
  "gpa": 3,
  "exams": [
    {
      "subject": "Русский язык",
      "points": 100
    }
  ],
  "created_at": "2025-06-17T12:18:55.686Z",
  "updated_at": "2025-06-17T12:18:55.686Z"
}
```

 * Status code: <b>500 Internal server error</b></br>
Ошибка при создании ресурса.
```json
{"detail": "Error while creating profiles"}
```

 * ### GET `/{user_id}`

Получает профиль абитуриента.

<b>Parameters</b></br>

 | name                       | description                                |
 |----------------------------|--------------------------------------------|
 | user_id<sup>required</sup> | ID абитуриента полученный при регистрации. |

<b>Response</b></br>

 * Status code: <b>200 OK</b></br>
Успешное получение ресурса.
```json
{
  "user_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "applicant_id": 0,
  "gender": "male",
  "points": 310,
  "gpa": 3,
  "exams": [
    {
      "subject": "Русский язык",
      "points": 100
    }
  ],
  "created_at": "2025-06-17T12:47:15.861Z",
  "updated_at": "2025-06-17T12:47:15.861Z"
}
```

 * Status code: <b>404 Not found</b></br>
Профиль с таким ID не найден.
```json
{"detail": "Profile not found"}
```

 * Status code: <b>500 Internal server error</b></br>
Ошибка при получении профиля.
```json
{"detail": "Error while receiving profiles"}
```
